<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>자바스크립트 프로그래밍</title>
    <meta name = 'viewport' content = 'width=device-width, initial-scale=1'>
    <link href=https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css rel="stylesheet">
    <script src=https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js></script>
    <script>
      function transform(){
                                var y = 0;
                                var x = document.getElementById("digit").value;
                                switch (x){
                                case '0000': y = 0;
                                break;
                                case '0001' : y = 1;
                                break;
                                case '0010' : y = 2;
                                break;
                                case '0011' : y = 3;
                                break;
                                case '0100' : y = 4;
                                break;
                                case '0101' : y = 5;
                                break;
                                case '0110' : y = 6;
                                break;
                                case '0111' : y = 7;
                                break;
                                case '1000' : y = 8;
                                break;
                                case '1001' : y = 9;
                                break;
                                case '1010' : y = 'A';
                                break;
                                case '1011' : y = 'B';
                                break;
                                case '1100' : y = 'C';
                                break;
                                case '1101' : y = 'D';
                                break;
                                case '1110' : y = 'E';
                                break;
                                case '1111' : y = 'F';
                                break;
                                default :
                                           document.getElementById("digit").value = "";
                                           document.getElementById("hexanum").value = "";
                                           alert(x + '는 이진수가 아니므로 변환할 수 없습니다.');
                       }
                       if(y != 0)
                                document.getElementById("hexanum").value = y;
                     }

      function pascals(){
                                var input; // 입력받은 값을 저장하는 변수
                                var inputNumber; // 입력받은 값을 숫자로 형변환하여 저장하는 변수
                                var result = ""; // 결과를 저장하는 변수

                                document.getElementById("draw_area").innerHTML = "";
                                input = document.getElementById("size").value;
                                inputNumber = parseInt(input);

                                if (!isNaN(inputNumber)) {
                                           if (inputNumber < 1) {
                                                     document.getElementById("size").value = "1";
                                                     alert("1 이상의 값을 입력해주세요.");
                                                     return;
                                           }
                                } else {
                                           document.getElementById("size").value = "1";
                                           alert("숫자를 입력해주세요.");
                                           return;
                                }
                                var row = [1];

                                for (let i = 0 ; i < inputNumber; i++) {
                                           for (let j = 0; j < row.length; j++) {
                                                     result += row[j] + " ";
                                           }
                                           var current_row = new Array(row.length + 1); // 새로운 줄은 이전 줄보다 숫자가 1개 더 있기 때문에 이전 줄의 개수보다 1 더 많은 원소를 저장할 수 있는 배열을 생성한다.
                                           current_row[0] = row[0]; // 새로운 줄의 첫 번째 숫자는 이전 줄의 첫 번째 숫자와 같다.

                                           for (let i = 0; i < row.length - 1; i++) {
                                                     current_row[i + 1] = row[i] + row[i + 1]; // 이전 줄의 숫자 두 개를 더하여 새로운 숫자를 만들어 새로운 줄에 넣어준다.
                                           }
                                           current_row[row.length] = row[row.length - 1]; // 새로운 줄의 마지막 숫자는 이전 줄의 마지막 숫자와 같다.
                                           row = current_row;
                                           result += "<br>";
                                }
                                document.getElementById("draw_area").innerHTML = result;
                     }
    </script>
</head>
<body>
<div class = 'container-sm mt-5'>
<div class = 'h3'>2진수 변환기</div>
<div class = 'mb-3'>
    <label class = 'form-label text-primary'>2진수:
    <input type="text" id="digit" size = '20'>
    </label>
    <button type = 'button' class = 'btn btn-dark' onclick="transform()"> ===> </button>
    <label class = 'form-label text-primary'> 16진수:
    <input type="text" id="hexanum" size="20" readonly value=""> </label>
</div>
<hr>

<div class="h3">파스칼 삼각형</div>
<div class="mb-3">
    <label class="form-label text-primary"> 삼각형 높이
    <input type="number" id="size" min="1" max="20" step="1" value="1">
    <button type="button" class="btn btn-success" onclick="pascals()">그리기</button>
    </label>
</div>
<div class="text-bg-secondary" id="draw_area">
</div>
</div>
</body>
</html>